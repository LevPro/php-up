# PHP Code Modernizer

Инструмент для автоматической модернизации PHP-кода с использованием возможностей Ollama AI.

## Возможности

- Анализ зависимостей между PHP-файлами
- Автоматическое определение CMS/фреймворка проекта
- **Оптимизированный анализ зависимостей**: передаются только зависимости, используемые в конкретном файле
- Автоматическая конвертация кода в стандарт PHP 8.4
- Добавление комментариев на русском языке
- Приведение к стандартам PSR-12
- Проверка корректности использования зависимостей

## Установка

1. Установите [Ollama](https://ollama.ai/)
2. Клонируйте репозиторий:
```bash
git clone https://github.com/LevPro/php-up
cd php-modernizer
```
3. Установите зависимости: 
```bash
pip install -r requirements.txt
```

## Использование
```bash
python main.py /path/to/php/project -m codellama:7b
```
Параметры командной строки:
- directory (обязательный): Путь к директории с PHP-проектом
- -m/--model (обязательный): Имя модели Ollama
- -e/--extensions: Расширения файлов для обработки (по умолчанию: php)
- -t/--threads: Количество потоков (по умолчанию: 3)
- -f/--framework: Ручное указание фреймворка/CMS (опционально)
- -ed/--exclude-dirs - полные пути к директориям для исключения
- -ef/--exclude-files - полные пути к файлам для исключения
- -ep/--exclude-patterns - маски для исключения (например, *.test.php, temp_*)